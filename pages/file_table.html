<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>File Name Key Table</title>
    <!-- Include DataTables CSS -->
    <link href="https://cdn.datatables.net/v/dt/dt-2.0.5/datatables.min.css" rel="stylesheet">
    <!-- Include ColReorder CSS -->
    <link href="https://cdn.datatables.net/colreorder/2.0.1/css/colReorder.foundation.min.css" rel="stylesheet">
</head>
<body>
    <table id="dataTable" class="display">
        <thead>
            <tr>
                <th>New Filename</th>
                <th>Original Filename</th>
                <th>Tool</th>
                <th>Date and Time</th>
                <th>Size (bytes)</th>
                <th>Path on Server</th>
                <th>Original Filepath</th>
                <th>Original Filetype</th>
                <th>Timestamp</th>
                <th>IP</th>
            </tr>
        </thead>
        <tbody>
        </tbody>
    </table>

    <!-- Include jQuery -->
    <script src="https://code.jquery.com/jquery-3.7.1.js"></script>
    <!-- Include DataTables JS -->
    <script src="https://cdn.datatables.net/2.0.5/js/dataTables.js"></script>
    <!-- Include ColReorder JS -->
    <script src="https://cdn.datatables.net/colreorder/2.0.1/js/ColReorder.js"></script>
    
    <script>
        $(document).ready(function() {
            // Read the text file
            $.ajax({
                url: 'public/fname_key.txt',
                dataType: 'text',
                success: function(data) {
                    data = '[' + data + ']';
                    // Parse the data into JSON
                    var jsonData = JSON.parse(data);
                    // Initialize DataTables with ColReorder
                    $('#dataTable').DataTable({
                        data: jsonData,
                        columns: [
                            { data: 'new_filename' },
                            { data: 'original_filename' },
                            { data: 'tool' },
                            { data: 'date_time' },
                            { data: 'size_bytes' },
                            { data: 'path_server' },
                            { data: 'original_filepath' },
                            { data: 'original_fileext' },
                            { data: 'timestamp' },
                            { data: 'IP' }
                        ],
                        colReorder: true // Enable ColReorder
                    });
                }
            });
        });
    </script>
</body>
</html>